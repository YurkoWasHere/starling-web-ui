<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Embed a web archive</title>
    <link rel="stylesheet" href="../style.css" />
    <script src="https://cdn.jsdelivr.net/npm/replaywebpage@1.8.4/ui.js"></script>
  </head>
  <body>
    <a href="..">‚Üê Back</a>
    <h1>Embed a web archive</h1>
    <p>
      Using the built-in WACZ embed from Webrecorder is simple. The
      documentation is available
      <a href="https://replayweb.page/docs/embedding">here</a>.
    </p>
    <h2>Examples</h2>
    <p>
      Here's an example embed. You can view the source of this page to see how
      it's done.
    </p>
    <replay-web-page
      style="height: 500px"
      source="tweet-example.wacz"
      url="https://oembed.link/https://twitter.com/webrecorder_io/status/1565881026215219200"
    ></replay-web-page>
    <p>
      The demo above uses the default
      <a href="https://replayweb.page/docs/embedding#embed-modes">embed mode</a>
      called <code>default</code>. At Starling we will often want to use the
      <code>replay-with-info</code>
      mode instead, which doesn't have a navigation UI, but instead shows an
      archival receipt with signature and hash information.
    </p>
    <p>
      That mode can be set with an attribute on the
      <code>replay-web-page</code> tag: <code>embed="replay-with-info"</code>.
      Here is an example:
    </p>
    <replay-web-page
      style="height: 500px"
      embed="replay-with-info"
      source="tweet-example.wacz"
      url="https://oembed.link/https://twitter.com/webrecorder_io/status/1565881026215219200"
    ></replay-web-page>
    <h2>CORS</h2>
    <p>
      It's not mentioned in the docs yet, but Firefox has a some stricter CORS
      requirements than Google Chrome due to a bug. So if you are loading a WACZ
      file from a different origin than your UI, you will need to serve that
      file with the appropriate CORS headers to support Firefox.
      <a href="https://github.com/webrecorder/replayweb.page/issues/168"
        >Source</a
      >
    </p>
    <pre>
access-control-allow-headers: *
access-control-allow-methods: HEAD,GET,OPTIONS
access-control-allow-origin: *</pre
    >
    <p>
      Make sure the server actually responds to <code>OPTIONS</code> requests,
      and with the proper 204 status code.
    </p>
    <h2>Examples</h2>
    <ul>
      <li>
        <a
          href="https://apnews.com/article/technology-police-government-surveillance-covid-19-3f3f348d176bc7152a8cb2dbab2e4cc4"
        >
          AP News &mdash; Police seize on COVID-19 tech to expand global
          surveillance
        </a>
      </li>
    </ul>
  </body>
</html>
